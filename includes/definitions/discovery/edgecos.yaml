mib: IF-MIB
modules:
    sensors:
        pre-cache:
            data:
                -
                    oid:
                        - ifName
        temperature:
            data:
                -
                    oid: ECS4120-MIB::portOpticalMonitoringInfoTemperature
                    num_oid: '.1.3.6.1.4.1.259.10.1.45.1.2.11.1.2.{{ $index }}'
                    value: ECS4120-MIB::portOpticalMonitoringInfoTemperature
                    descr: '{{ $ifName }} Temperature'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    index: 'opticalTemperature.{{ $index }}'
                    group: 'Modules'
        dbm:
            data:
                -
                    oid: ECS4120-MIB::portOpticalMonitoringInfoRxPower
                    value: ECS4120-MIB::portOpticalMonitoringInfoRxPower
                    num_oid: '.1.3.6.1.4.1.259.10.1.45.1.2.11.1.6.{{ $index }}'
                    low_limit: portTransceiverThresholdInfoRxPowerLowAlarm
                    low_warn_limit: portTransceiverThresholdInfoRxPowerLowWarn
                    high_limit: portTransceiverThresholdInfoRxPowerHighAlarm
                    warn_limit: portTransceiverThresholdInfoRxPowerHighWarn
                    descr: '{{ $ifName }} Rx Power'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    index: 'opticalRxPower.{{ $index }}'
                    group: 'Modules'
                -
                    oid: ECS4120-MIB::portOpticalMonitoringInfoTxPower
                    value: ECS4120-MIB::portOpticalMonitoringInfoTxPower
                    num_oid: '.1.3.6.1.4.1.259.10.1.45.1.2.11.1.5.{{ $index }}'
                    low_limit: portTransceiverThresholdInfoTxPowerLowAlarm
                    low_warn_limit: portTransceiverThresholdInfoTxPowerLowWarn
                    high_limit: portTransceiverThresholdInfoTxPowerHighAlarm
                    warn_limit: portTransceiverThresholdInfoTxPowerHighWarn
                    descr: '{{ $ifName }} Tx Power'
                    entPhysicalIndex: '{{ $index }}'
                    entPhysicalIndex_measured: 'ports'
                    index: 'opticalTxPower.{{ $index }}'
                    group: 'Modules'
